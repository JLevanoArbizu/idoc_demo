<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/Templates/Default.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:param name="tituloPagina" value="Ajustes"/>
    <ui:define name="contenidoPagina">
        <f:event type="preRenderView" listener="#{trabajadorC.seguridadSesion()}"/>
        <div class="mdl-layout mdl-js-layout color--gray is-small-screen login">
            <main class="mdl-layout__content">
                <div class="mdl-card mdl-card__login mdl-shadow--2dp">
                    <div class="mdl-card__supporting-text color--dark-gray">
                        <h:form id="frmEditarLogin">
                            <p:growl life="10000"/>
                            <div class="mdl-grid">
                                <div class="mdl-cell mdl-cell--12-col mdl-cell--4-col-phone">
                                    <span class="mdl-card__title-text text-color--smooth-gray">iDoc</span>
                                </div>
                                <div class="mdl-cell mdl-cell--12-col mdl-cell--4-col-phone">
                                    <span class="login-name text-color--white">Cambiar Contraseña</span>
                                    <span class="login-secondary-text text-color--smoke">Ingrese su nueva contraseña.</span>
                                </div>
                                <div class="mdl-cell mdl-cell--12-col mdl-cell--4-col-phone">
                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label full-size">
                                        <p:outputLabel value="Nueva Contraseña" styleClass="mdl-textfield__label" for="inptNewPssw"/>
                                        <p:password value="#{trabajadorC.loginT.PSSWLOG}" required="true" id="inptNewPssw"
                                                    feedback="true" styleClass="mdl-textfield__input" validatorMessage="No coinciden."
                                                    weakLabel="Mala" goodLabel="Buena" strongLabel="Muy Buena" promptLabel="Ingrese Contraseña."
                                                    match="repetido"
                                                    requiredMessage="Ingrese contraseña"/>
                                    </div>
                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label full-size">
                                        <p:outputLabel value="Repetir nueva Contraseña" styleClass="mdl-textfield__label" for="repetido"/>
                                        <p:password id="repetido" value="#{trabajadorC.loginT.PSSWLOG}" required="true"
                                                    styleClass="mdl-textfield__input"
                                                    requiredMessage="Vuelva a ingresar la contrsaeña"/>
                                    </div>
                                </div>
                                <div class="mdl-cell mdl-cell--12-col mdl-cell--4-col-phone submit-cell">
                                    <div class="mdl-layout-spacer"></div>
                                    <p:commandButton id="btnEditarLogin" styleClass="mdl-button mdl-js-button mdl-button--raised color--light-blue"
                                                     actionListener="#{trabajadorC.editarLogin()}"
                                                     value="Editar" update=":frmEditarLogin :frmMenu"/>
                                    <p:blockUI block="frmEditarLogin" trigger="btnEditarLogin">
                                        Editando..
                                    </p:blockUI>
                                </div>
                            </div>
                        </h:form>
                    </div>
                </div>
            </main>
        </div>
    </ui:define>

</ui:composition>
